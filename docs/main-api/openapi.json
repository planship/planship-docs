{"openapi":"3.0.2","info":{"title":"Planship API","version":"0.1.1"},"paths":{"/api/v1/health":{"get":{"tags":["health"],"summary":"Health","description":"Basic health check","operationId":"health","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Health Api V1 Health Get"}}}}}}},"/api/v1/auth/token":{"post":{"tags":["auth"],"summary":"Get Access Token","description":"Obtain an access token for client credentials","operationId":"get_access_token","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenResponse"}}}}},"security":[{"basic":[]}]}},"/api/v1/products":{"get":{"tags":["products"],"summary":"List Products","description":"List all products in the current organization. Organization is determined by the Planship API auth token.","operationId":"list_products","parameters":[{"required":false,"schema":{"title":"Skip","type":"integer","default":0},"name":"skip","in":"query"},{"required":false,"schema":{"title":"Limit","type":"integer","default":100},"name":"limit","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response List Products Api V1 Products Get","type":"array","items":{"$ref":"#/components/schemas/IdNameSlugOrmBase"}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"oAuth2ClientCredentials":[]}]}},"/api/v1/products/{slug}":{"get":{"tags":["products"],"summary":"Get Product","description":"Get a product with a given slug in the current organization.\nOrganization is determined by the Planship API auth token.","operationId":"get_product","parameters":[{"required":true,"schema":{"title":"Slug","type":"string"},"name":"slug","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Product"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"oAuth2ClientCredentials":[]}]}},"/api/v1/products/{slug}/levers":{"get":{"tags":["products"],"summary":"List Product Levers","description":"List all levers for the product with a given slug in the current organization.\nOrganization is determined by the Planship API auth token.","operationId":"list_product_levers","parameters":[{"required":true,"schema":{"title":"Slug","type":"string"},"name":"slug","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response List Product Levers Api V1 Products  Slug  Levers Get","type":"array","items":{"$ref":"#/components/schemas/IdNameSlugOrmBase"}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"oAuth2ClientCredentials":[]}]}},"/api/v1/products/{product_slug}/levers/{slug}":{"get":{"tags":["products"],"summary":"Get Product Lever","description":"Get the product lever for given product and lever slugs in the current organization.\nOrganization is determined by the Planship API auth token.","operationId":"get_product_lever","parameters":[{"required":true,"schema":{"title":"Product Slug","type":"string"},"name":"product_slug","in":"path"},{"required":true,"schema":{"title":"Slug","type":"string"},"name":"slug","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Lever"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"oAuth2ClientCredentials":[]}]}},"/api/v1/products/{slug}/plans":{"get":{"tags":["products"],"summary":"List Product Plans","description":"List all plans for the product with a given slug in the current organization.\nOrganization is determined by the Planship API auth token.","operationId":"list_product_plans","parameters":[{"required":true,"schema":{"title":"Slug","type":"string"},"name":"slug","in":"path"},{"required":false,"schema":{"title":"Public Only","type":"boolean","default":false},"name":"public_only","in":"query"},{"required":false,"schema":{"title":"Order By","type":"string"},"name":"order_by","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response List Product Plans Api V1 Products  Slug  Plans Get","type":"array","items":{"$ref":"#/components/schemas/PlanInList"}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"oAuth2ClientCredentials":[]}]}},"/api/v1/products/{product_slug}/plans/{slug}":{"get":{"tags":["products"],"summary":"Get Product Plan","description":"Get the product plan for given product and lever slugs in the current organization.\nOrganization is determined by the Planship API auth token.","operationId":"get_product_plan","parameters":[{"required":true,"schema":{"title":"Product Slug","type":"string"},"name":"product_slug","in":"path"},{"required":true,"schema":{"title":"Slug","type":"string"},"name":"slug","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Plan"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"oAuth2ClientCredentials":[]}]}},"/api/v1/products/{product_slug}/plans/{slug}/entitlements":{"get":{"tags":["products"],"summary":"Get Product Plan Entitlements","description":"List all entitlements for the product plan with given product and plan slugs in the current organization.\nOrganization is determined by the Planship API auth token.","operationId":"get_product_plan_entitlements","parameters":[{"required":true,"schema":{"title":"Product Slug","type":"string"},"name":"product_slug","in":"path"},{"required":true,"schema":{"title":"Slug","type":"string"},"name":"slug","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Get Product Plan Entitlements Api V1 Products  Product Slug  Plans  Slug  Entitlements Get","type":"array","items":{"$ref":"#/components/schemas/IdNameOrmBase"}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"oAuth2ClientCredentials":[]}]}},"/api/v1/products/{product_slug}/plans/{slug}/subscriptions":{"post":{"tags":["products"],"summary":"Create Plan Subscription","description":"Create a subscription to the product plan with given product and plan slugs for the customer\ndescribed in subscription_customer_in.\nOrganization is determined by the Planship API auth token.","operationId":"create_plan_subscription","parameters":[{"required":true,"schema":{"title":"Product Slug","type":"string"},"name":"product_slug","in":"path"},{"required":true,"schema":{"title":"Slug","type":"string"},"name":"slug","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlanSubscriptionCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubscriptionWithPlan"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"oAuth2ClientCredentials":[]}]}},"/api/v1/public/{organization_slug}/{product_slug}/plans":{"get":{"tags":["public"],"summary":"List Public Plans","operationId":"list_public_plans","parameters":[{"required":true,"schema":{"title":"Organization Slug","type":"string"},"name":"organization_slug","in":"path"},{"required":true,"schema":{"title":"Product Slug","type":"string"},"name":"product_slug","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response List Public Plans Api V1 Public  Organization Slug   Product Slug  Plans Get","type":"array","items":{"$ref":"#/components/schemas/PlanInList"}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/public/{organization_slug}/{product_slug}/plans/{plan_slug}":{"get":{"tags":["public"],"summary":"Get Public Plan","operationId":"get_public_plan","parameters":[{"required":true,"schema":{"title":"Organization Slug","type":"string"},"name":"organization_slug","in":"path"},{"required":true,"schema":{"title":"Product Slug","type":"string"},"name":"product_slug","in":"path"},{"required":true,"schema":{"title":"Plan Slug","type":"string"},"name":"plan_slug","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Plan"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/customers":{"post":{"tags":["customers"],"summary":"Create Customer","description":"Create a new customer in the current organization.","operationId":"create_customer","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrganizationCustomerCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Customer"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"oAuth2ClientCredentials":[]}]}},"/api/v1/customers/{customer_id}":{"delete":{"tags":["customers"],"summary":"Delete Customer","description":"Delete the customer with a given id from the current organization.","operationId":"delete_customer","parameters":[{"required":true,"schema":{"title":"Customer Id","type":"string"},"name":"customer_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerInDbBase"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"oAuth2ClientCredentials":[]}]}},"/api/v1/customers/{customer_id}/subscriptions":{"get":{"tags":["customer_subscriptions"],"summary":"List Customer Plan Subscriptions","operationId":"list_customer_plan_subscriptions","parameters":[{"required":true,"schema":{"title":"Customer Id","type":"string"},"name":"customer_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response List Customer Plan Subscriptions Api V1 Customers  Customer Id  Subscriptions Get","type":"array","items":{"$ref":"#/components/schemas/CustomerSubscriptionWithPlan"}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"oAuth2ClientCredentials":[]}]},"post":{"tags":["customer_subscriptions"],"summary":"Create Plan Subscription For Customer","operationId":"create_plan_subscription_for_customer","parameters":[{"required":true,"schema":{"title":"Customer Id","type":"string"},"name":"customer_id","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubscriptionCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubscriptionWithPlan"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"oAuth2ClientCredentials":[]}]}},"/api/v1/customers/{customer_id}/subscriptions/{subscription_id}":{"get":{"tags":["customer_subscriptions"],"summary":"Get Customer Plan Subscription","operationId":"get_customer_plan_subscription","parameters":[{"required":true,"schema":{"title":"Customer Id","type":"string"},"name":"customer_id","in":"path"},{"required":true,"schema":{"title":"Subscription Id","type":"string","format":"uuid"},"name":"subscription_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerSubscriptionWithPlan"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"oAuth2ClientCredentials":[]}]},"patch":{"tags":["customer_subscriptions"],"summary":"Modify Customer Plan Subscription","operationId":"modify_customer_plan_subscription","parameters":[{"required":true,"schema":{"title":"Customer Id","type":"string"},"name":"customer_id","in":"path"},{"required":true,"schema":{"title":"Subscription Id","type":"string","format":"uuid"},"name":"subscription_id","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubscriptionUpdateWithSlugs"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerSubscriptionWithPlan"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"oAuth2ClientCredentials":[]}]}},"/api/v1/customers/{customer_id}/subscriptions/{subscription_id}/customers":{"get":{"tags":["subscription_customers"],"summary":"List Subscription Customers","operationId":"list_subscription_customers","parameters":[{"required":true,"schema":{"title":"Customer Id","type":"string"},"name":"customer_id","in":"path"},{"required":true,"schema":{"title":"Subscription Id","type":"string","format":"uuid"},"name":"subscription_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response List Subscription Customers Api V1 Customers  Customer Id  Subscriptions  Subscription Id  Customers Get","type":"array","items":{"$ref":"#/components/schemas/SubscriptionCustomer"}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"oAuth2ClientCredentials":[]}]},"post":{"tags":["subscription_customers"],"summary":"Add Customer To Subscription","operationId":"add_customer_to_subscription","parameters":[{"required":true,"schema":{"title":"Customer Id","type":"string"},"name":"customer_id","in":"path"},{"required":true,"schema":{"title":"Subscription Id","type":"string","format":"uuid"},"name":"subscription_id","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubscriptionCustomerAdd"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubscriptionCustomer"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"oAuth2ClientCredentials":[]}]}},"/api/v1/customers/{customer_id}/subscriptions/{subscription_id}/customers/{id}":{"delete":{"tags":["subscription_customers"],"summary":"Remove Customer From Subscription","operationId":"remove_customer_from_subscription","parameters":[{"required":true,"schema":{"title":"Customer Id","type":"string"},"name":"customer_id","in":"path"},{"required":true,"schema":{"title":"Subscription Id","type":"string","format":"uuid"},"name":"subscription_id","in":"path"},{"required":true,"schema":{"title":"Id","type":"string","format":"uuid"},"name":"id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubscriptionCustomerInDbBase"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"oAuth2ClientCredentials":[]}]}},"/api/v1/customers/{customer_id}/products/{product_slug}/entitlements":{"get":{"tags":["entitlements"],"summary":"Get Product Entitlements For Customer","description":"List all entitlements for the customer with a given id and the product with a given slug.\nEntitlements are returned as a dictionary keyed by lever slugs.","operationId":"get_product_entitlements_for_customer","parameters":[{"required":true,"schema":{"title":"Product Slug","type":"string"},"name":"product_slug","in":"path"},{"required":true,"schema":{"title":"Customer Id","type":"string"},"name":"customer_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EntitlementsResponseSchema"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"oAuth2ClientCredentials":[]}]}},"/api/v1/customers/{customer_id}/products/{product_slug}/usage/{metering_id}":{"get":{"tags":["metered_usage"],"summary":"Get Metering Id Levers Usage For Customer","operationId":"get_metering_id_levers_usage_for_customer","parameters":[{"required":true,"schema":{"title":"Customer Id","type":"string"},"name":"customer_id","in":"path"},{"required":true,"schema":{"title":"Product Slug","type":"string"},"name":"product_slug","in":"path"},{"required":true,"schema":{"title":"Metering Id","type":"string"},"name":"metering_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Get Metering Id Levers Usage For Customer Api V1 Customers  Customer Id  Products  Product Slug  Usage  Metering Id  Get","type":"object","additionalProperties":{"$ref":"#/components/schemas/LeverUsage"}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"oAuth2ClientCredentials":[]}]},"post":{"tags":["metered_usage"],"summary":"Report Metered Usage For Customer","operationId":"report_metered_usage_for_customer","parameters":[{"required":true,"schema":{"title":"Customer Id","type":"string"},"name":"customer_id","in":"path"},{"required":true,"schema":{"title":"Product Slug","type":"string"},"name":"product_slug","in":"path"},{"required":true,"schema":{"title":"Metering Id","type":"string"},"name":"metering_id","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MeteredUsageIn"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MeteringRecord"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"oAuth2ClientCredentials":[]}]}},"/api/v1/customers/{customer_id}/products/{product_slug}/levers/{lever_slug}/usage":{"get":{"tags":["metered_usage"],"summary":"Get Lever Usage For Customer","operationId":"get_lever_usage_for_customer","parameters":[{"required":true,"schema":{"title":"Customer Id","type":"string"},"name":"customer_id","in":"path"},{"required":true,"schema":{"title":"Product Slug","type":"string"},"name":"product_slug","in":"path"},{"required":true,"schema":{"title":"Lever Slug","type":"string"},"name":"lever_slug","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LeverUsage"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"oAuth2ClientCredentials":[]}]}},"/api/v1/subscriptions/{subscription_id}/renewals":{"post":{"tags":["subscriptions"],"summary":"Force Renew Subscription","operationId":"force_renew_subscription","parameters":[{"required":true,"schema":{"title":"Subscription Id","type":"string","format":"uuid"},"name":"subscription_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubscriptionWithPlan"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"oAuth2ClientCredentials":[]}]}}},"components":{"schemas":{"BucketUsage":{"title":"BucketUsage","required":["usage"],"type":"object","properties":{"usage":{"title":"Usage","type":"integer"},"bucket":{"title":"Bucket","type":"string"}}},"Customer":{"title":"Customer","required":["id","organization_id","subscriptions"],"type":"object","properties":{"id":{"title":"Id","type":"string","format":"uuid"},"metadata_":{"title":"Metadata ","type":"object"},"name":{"title":"Name","type":"string","default":""},"email":{"title":"Email","type":"string","default":""},"alternative_id":{"title":"Alternative Id","type":"string"},"organization_id":{"title":"Organization Id","type":"string","format":"uuid"},"subscriptions":{"title":"Subscriptions","type":"array","items":{"$ref":"#/components/schemas/SubscriptionCustomer"}}}},"CustomerInDbBase":{"title":"CustomerInDbBase","required":["id","organization_id"],"type":"object","properties":{"id":{"title":"Id","type":"string","format":"uuid"},"metadata_":{"title":"Metadata ","type":"object"},"name":{"title":"Name","type":"string","default":""},"email":{"title":"Email","type":"string","default":""},"alternative_id":{"title":"Alternative Id","type":"string"},"organization_id":{"title":"Organization Id","type":"string","format":"uuid"}}},"CustomerSubscriptionWithPlan":{"title":"CustomerSubscriptionWithPlan","required":["customer_id","subscription_id","auto_renew","is_active","renew_at","last_renewed_at","plan","renew_plan"],"type":"object","properties":{"metadata_":{"title":"Metadata ","type":"object"},"is_administrator":{"title":"Is Administrator","type":"boolean","default":false},"is_subscriber":{"title":"Is Subscriber","type":"boolean","default":true},"customer_id":{"title":"Customer Id","type":"string","format":"uuid"},"subscription_id":{"title":"Subscription Id","type":"string","format":"uuid"},"max_subscribers":{"title":"Max Subscribers","type":"integer","default":1},"auto_renew":{"title":"Auto Renew","type":"boolean"},"is_active":{"title":"Is Active","type":"boolean"},"renew_at":{"title":"Renew At","type":"string","format":"date-time"},"last_renewed_at":{"title":"Last Renewed At","type":"string","format":"date-time"},"plan":{"$ref":"#/components/schemas/IdNameSlugOrmBase"},"renew_plan":{"$ref":"#/components/schemas/IdNameSlugOrmBase"}}},"EntitlementsResponseSchema":{"title":"EntitlementsResponseSchema","type":"object","properties":{}},"HTTPValidationError":{"title":"HTTPValidationError","type":"object","properties":{"detail":{"title":"Detail","type":"array","items":{"$ref":"#/components/schemas/ValidationError"}}}},"IdNameOrmBase":{"title":"IdNameOrmBase","required":["id","name"],"type":"object","properties":{"id":{"title":"Id","type":"string","format":"uuid"},"name":{"title":"Name","type":"string"}}},"IdNameSlugOrmBase":{"title":"IdNameSlugOrmBase","required":["id","name","slug"],"type":"object","properties":{"id":{"title":"Id","type":"string","format":"uuid"},"name":{"title":"Name","type":"string"},"slug":{"title":"Slug","type":"string"}}},"Lever":{"title":"Lever","required":["slug","id","name","lever_type_id","product_id","metering_ids"],"type":"object","properties":{"slug":{"title":"Slug","type":"string"},"id":{"title":"Id","type":"string","format":"uuid"},"display_order":{"title":"Display Order","type":"integer"},"display_name":{"title":"Display Name","type":"string","default":""},"display_description":{"title":"Display Description","type":"string","default":""},"display_extra_attributes":{"title":"Display Extra Attributes","type":"object","additionalProperties":{"type":"string"},"default":{}},"configuration":{"title":"Configuration","type":"object"},"description":{"title":"Description","type":"string","default":""},"name":{"title":"Name","type":"string"},"entitlement_display_value_template":{"title":"Entitlement Display Value Template","type":"string","default":""},"entitlement_display_name_template":{"title":"Entitlement Display Name Template","type":"string","default":""},"entitlement_display_description_template":{"title":"Entitlement Display Description Template","type":"string","default":""},"lever_type_id":{"title":"Lever Type Id","type":"string","format":"uuid"},"product_id":{"title":"Product Id","type":"string","format":"uuid"},"metering_ids":{"title":"Metering Ids","type":"array","items":{"type":"string"}},"entitlement_schema_json":{"title":"Entitlement Schema Json","type":"object"}}},"LeverUsage":{"title":"LeverUsage","required":["total","by_bucket","by_subscription"],"type":"object","properties":{"total":{"title":"Total","type":"integer"},"by_bucket":{"title":"By Bucket","type":"object","additionalProperties":{"type":"integer"}},"by_subscription":{"title":"By Subscription","type":"object","additionalProperties":{"type":"array","items":{"$ref":"#/components/schemas/BucketUsage"}}}}},"MeteredUsageIn":{"title":"MeteredUsageIn","required":["usage"],"type":"object","properties":{"usage":{"title":"Usage","type":"integer"},"subscription_id":{"title":"Subscription Id","type":"string","format":"uuid"},"bucket":{"title":"Bucket","type":"string"}}},"MeteringRecord":{"title":"MeteringRecord","required":["id","usage","metering_id","customer_id","product_id"],"type":"object","properties":{"id":{"title":"Id","type":"string","format":"uuid"},"is_allocated":{"title":"Is Allocated","type":"boolean","default":false},"usage":{"title":"Usage","type":"integer"},"metering_id":{"title":"Metering Id","type":"string"},"customer_id":{"title":"Customer Id","type":"string","format":"uuid"},"product_id":{"title":"Product Id","type":"string","format":"uuid"},"subscription_id":{"title":"Subscription Id","type":"string","format":"uuid"},"bucket":{"title":"Bucket","type":"string"}}},"OrganizationCustomerCreate":{"title":"OrganizationCustomerCreate","type":"object","properties":{"metadata":{"title":"Metadata","type":"object"},"name":{"title":"Name","type":"string","default":""},"email":{"title":"Email","type":"string","default":""},"alternative_id":{"title":"Alternative Id","type":"string"}}},"Plan":{"title":"Plan","required":["slug","name","description","entitlements"],"type":"object","properties":{"slug":{"title":"Slug","type":"string"},"name":{"title":"Name","type":"string","description":"Plan name"},"description":{"title":"Description","type":"string","description":"Plan description"},"order":{"title":"Order","type":"integer","description":"Plan display order"},"entitlements":{"title":"Entitlements","type":"array","items":{"$ref":"#/components/schemas/PlanEntitlement"}}}},"PlanEntitlement":{"title":"PlanEntitlement","required":["value","name","description"],"type":"object","properties":{"value":{"title":"Value","type":"string","description":"Formatted text representation of the entitlement value"},"name":{"title":"Name","type":"string","description":"Entitlement name"},"description":{"title":"Description","type":"string","description":"Entitlement description"},"order":{"title":"Order","type":"integer","description":"Entitlement display order"},"configuration":{"title":"Configuration","type":"object","description":"Entitlement configuration object"}}},"PlanInDbBase":{"title":"PlanInDbBase","required":["slug","name","id"],"type":"object","properties":{"slug":{"title":"Slug","type":"string"},"display_order":{"title":"Display Order","type":"integer"},"display_name":{"title":"Display Name","type":"string","default":""},"display_description":{"title":"Display Description","type":"string","default":""},"display_extra_attributes":{"title":"Display Extra Attributes","type":"object","additionalProperties":{"type":"string"},"default":{}},"description":{"title":"Description","type":"string","default":""},"name":{"title":"Name","type":"string"},"max_subscribers":{"title":"Max Subscribers","type":"integer","default":1},"is_self_serve":{"title":"Is Self Serve","type":"boolean","default":true},"is_public":{"title":"Is Public","type":"boolean","default":false},"auto_renew":{"title":"Auto Renew","type":"boolean","default":true},"duration_period":{"title":"Duration Period","type":"integer","default":1},"duration_unit":{"allOf":[{"$ref":"#/components/schemas/TimeUnits"}],"default":"month"},"id":{"title":"Id","type":"string","format":"uuid"}}},"PlanInList":{"title":"PlanInList","required":["slug","name","description"],"type":"object","properties":{"slug":{"title":"Slug","type":"string"},"name":{"title":"Name","type":"string","description":"Plan name"},"description":{"title":"Description","type":"string","description":"Plan description"},"order":{"title":"Order","type":"integer","description":"Plan display order"}}},"PlanSubscriptionCreate":{"title":"PlanSubscriptionCreate","required":["customer_id"],"type":"object","properties":{"metadata":{"title":"Metadata","type":"object"},"customer_id":{"title":"Customer Id","type":"string"},"is_subscriber":{"title":"Is Subscriber","type":"boolean","default":true},"max_subscribers":{"title":"Max Subscribers","type":"integer","default":1},"renew_at":{"title":"Renew At","type":"string","format":"date-time"}}},"Product":{"title":"Product","required":["name","organization_id","slug","id"],"type":"object","properties":{"description":{"title":"Description","type":"string","default":""},"name":{"title":"Name","type":"string"},"organization_id":{"title":"Organization Id","type":"string","format":"uuid"},"slug":{"title":"Slug","type":"string"},"id":{"title":"Id","type":"string","format":"uuid"}}},"SubscriptionCreate":{"title":"SubscriptionCreate","required":["auto_renew","is_active","plan_id","renew_plan_id","renew_at","last_renewed_at","start_at"],"type":"object","properties":{"auto_renew":{"title":"Auto Renew","type":"boolean"},"is_active":{"title":"Is Active","type":"boolean"},"plan_id":{"title":"Plan Id","type":"string","format":"uuid"},"renew_plan_id":{"title":"Renew Plan Id","type":"string","format":"uuid"},"renew_at":{"title":"Renew At","type":"string","format":"date-time"},"last_renewed_at":{"title":"Last Renewed At","type":"string","format":"date-time"},"max_subscribers":{"title":"Max Subscribers","type":"integer","default":1},"start_at":{"title":"Start At","type":"string","format":"date-time"}}},"SubscriptionCustomer":{"title":"SubscriptionCustomer","required":["customer_id","subscription_id","plan"],"type":"object","properties":{"metadata_":{"title":"Metadata ","type":"object"},"is_administrator":{"title":"Is Administrator","type":"boolean","default":false},"is_subscriber":{"title":"Is Subscriber","type":"boolean","default":true},"customer_id":{"title":"Customer Id","type":"string","format":"uuid"},"subscription_id":{"title":"Subscription Id","type":"string","format":"uuid"},"plan":{"$ref":"#/components/schemas/PlanInDbBase"}}},"SubscriptionCustomerAdd":{"title":"SubscriptionCustomerAdd","required":["customer_id"],"type":"object","properties":{"metadata":{"title":"Metadata","type":"object"},"is_administrator":{"title":"Is Administrator","type":"boolean","default":false},"is_subscriber":{"title":"Is Subscriber","type":"boolean","default":true},"customer_id":{"title":"Customer Id","type":"string"}}},"SubscriptionCustomerInDbBase":{"title":"SubscriptionCustomerInDbBase","required":["customer_id","subscription_id"],"type":"object","properties":{"metadata_":{"title":"Metadata ","type":"object"},"is_administrator":{"title":"Is Administrator","type":"boolean","default":false},"is_subscriber":{"title":"Is Subscriber","type":"boolean","default":true},"customer_id":{"title":"Customer Id","type":"string","format":"uuid"},"subscription_id":{"title":"Subscription Id","type":"string","format":"uuid"}}},"SubscriptionUpdateWithSlugs":{"title":"SubscriptionUpdateWithSlugs","type":"object","properties":{"plan_id":{"title":"Plan Id","type":"string","format":"uuid"},"renew_plan_id":{"title":"Renew Plan Id","type":"string","format":"uuid"},"plan_slug":{"title":"Plan Slug","type":"string"},"renew_plan_slug":{"title":"Renew Plan Slug","type":"string"},"max_subscribers":{"title":"Max Subscribers","type":"integer","default":1},"is_active":{"title":"Is Active","type":"boolean","default":true}}},"SubscriptionWithPlan":{"title":"SubscriptionWithPlan","required":["id","auto_renew","is_active","plan_id","renew_plan_id","renew_at","last_renewed_at","max_subscribers","start_at","plan","renew_plan"],"type":"object","properties":{"id":{"title":"Id","type":"string","format":"uuid"},"auto_renew":{"title":"Auto Renew","type":"boolean"},"is_active":{"title":"Is Active","type":"boolean"},"plan_id":{"title":"Plan Id","type":"string","format":"uuid"},"renew_plan_id":{"title":"Renew Plan Id","type":"string","format":"uuid"},"renew_at":{"title":"Renew At","type":"string","format":"date-time"},"last_renewed_at":{"title":"Last Renewed At","type":"string","format":"date-time"},"max_subscribers":{"title":"Max Subscribers","type":"integer"},"start_at":{"title":"Start At","type":"string","format":"date-time"},"plan":{"$ref":"#/components/schemas/IdNameSlugOrmBase"},"renew_plan":{"$ref":"#/components/schemas/IdNameSlugOrmBase"}}},"TimeUnits":{"title":"TimeUnits","enum":["minute","hour","day","week","month","year","perpetual"],"type":"string","description":"An enumeration."},"TokenResponse":{"title":"TokenResponse","required":["access_token","token_type","expires_in"],"type":"object","properties":{"access_token":{"title":"Access Token","type":"string"},"token_type":{"title":"Token Type","type":"string"},"expires_in":{"title":"Expires In","type":"integer"}},"description":"An OAuth2 Token response."},"ValidationError":{"title":"ValidationError","required":["loc","msg","type"],"type":"object","properties":{"loc":{"title":"Location","type":"array","items":{"anyOf":[{"type":"string"},{"type":"integer"}]}},"msg":{"title":"Message","type":"string"},"type":{"title":"Error Type","type":"string"}}}},"securitySchemes":{"basic":{"type":"http","scheme":"http"},"oAuth2ClientCredentials":{"type":"oauth2","flows":{"clientCredentials":{"scopes":{},"tokenUrl":"/api/v1/auth/token"}}}}}}
